## 6장 리액트 개발자 도구로 디버깅하기

리액트 개발자 도구? react-dev-tools

### 6.1 컴포넌트

- 컴포넌트 탭에서는 현재 리액트 앱의 컴포넌트 tree를 확인할 수 있음, props, hooks도 확인할 수 있다.
- 컴포넌트 메뉴에서 확인할 수 있는 정보
  1. 컴포넌트 트리 : 이름 그대로 리액트 페이지의 컴포넌트 트리 구조를 보여줌
  2. 컴포넌트 명과 props : 컴포넌트 트리에서 컴포넌트를 선택했을 때 더 자세한 정보를 보여주는 영역임
  - 컴포넌트명 + key, props... hooks..
  - rendered by : 해당 컴포넌트를 렌더링한 주체를 확인할 수 있음.

### 6.3 Profile

- 리액트가 렌더링하는 과정에서 발생하는 상황을 확인하기 위해 사용하는 도구
- 프로파일링 메뉴
  1. Flamegraph - 렌더 커밋별로 발생한 작업을 확인할 수 있다. ex. 메모이제이션 동작확인, 리렌더링 파악에 도움이 된다.
  2. Ranked - 커밋에서 렌더링하는데 오래걸린 컴포넌트를 나열한다. 모든 컴포넌트가 아니라 현재 렌더링이 발생한 컴포넌트만 보여준다.
  3. 타임라인 - React 18 버전 이상에서만 사용가능. React 작동 내역을 추척한다.

* 앱이 더 커지기 전에 개발자 도구를 켜서 디버깅하는 습관을 가지자!

## 7장 크롬 개발자 도구를 이용한 분석

- 일반적인 웹 어플리케이션을 디버깅할 때 쓴다. React 프로젝트가 아니여도 사용가능
- 크롬 개발자 도구 : 크롬 브라우저에서 웹 페이지에서 일어나는 일을 확인할 수 있는 개발자용 도구 (시크릿 모드에서 실행하는걸 권장한다)

### 7.1 요소탭

- HTML Tag 와 관련된 정보를 볼 수 있다.
  - 요소 정보, 스타일, 계산됨(padding...), 레이아웃, 이벤트 리스너 등등
- DOM을 수정해서 핫리로드 없이 확인할 수 있다.

### 7.2 소스탭

- 웹 어플리케이션을 불러오기 위해 실행하거나 참조한 모든 파일을 확인할 수 있다.
- 소스 코드에 중단점(디버거)를 설정해서 디버깅할 수 있다.

### 7.3 네트워크탭

- 모든 네트워크 관련된 동작을 기록한다.
- 중복요청, 리소스 크기 / 불러오는 속도 확인. 그리고 리소스가 올바른 우선 순위로 다운로드되어 자연스럽게 페이지가 만들어지는지 확인한다.

### 7.4 메모리탭

- 현재 웹 페이지의 메모리 현황을 파악할 수 있다.
- 프로파일링 작업이 완료된 후 사용할 수 있다.
- VM 환경을 선택해서 사용할 수 있다.

1. 힙 스냅샷 : 촬영하듯 메모리 현황을 보여준다.

   - 메모리 누수가 예상되는 곳에 스냅샷을 비교한다. 얕은 크기와 유지된 크기의 차이가 큰 곳이 범인임

2. 타임라인 할당 계측 : 시간의 흐름에 따라 메모리 변화를 알 수 있다.
3. 할당 샘플링 : 타임라인 할당 계측과 비슷하지만 JS 실행 스택별로 분석하고 분석을 함수 단위로 한다는 차이점이 있다.

   - 갸장 많은 바이트를 차지하는 것부터 정렬된다
   - 리빙포인트 : 소스패널에 표시를 클릭하면 어느 파일에 정의되어있는지 확인가능

        **얕은 크기와 유지된 크기** 
        - 얕은 크기 : 객체 자체가 보유한 메모리 바이트의 크기를 나타낸다. - 유지된 크기 : 해당 객체 자체뿐만 아니라 다른 부모가 존재하지 않는 모든 자식 객체들의 크기까지 더한 값임.
        - 메모리 누수를 찾을 때는 얕은 크기(객체 자체의 크기)는 작으나 유지된 크기(객체가 참조하고 있는 모든 객체들의 크기)가 큰 객체를 찾아야한다. 두 크기의 차이가 큰 객체는 다수의 다른 객체를 참조하고 있다는 뜻임.
