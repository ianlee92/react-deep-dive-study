### 📅 2024년 3월 27일

# 📚 6장 리액트 개발 도구로 디버깅하기

- 리액트 개발 도구 설치
  - https://chromewebstore.google.com/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?pli=1

## Component탭

정적인 상태의 현재 리액트 컴포넌트 트리의 내용을 확인할 수 있다.

- 익명함수를 default로 export한 컴포넌트의 경우 함수의 명칭을 추론할 수 없다.
- memo를 사용해 익명함수로 만든 컴포넌트를 감싼 경우에도 함수의 명칭을 명확하게 추론할 수 없다.
- 고차 컴포넌트를 사용해 익명함수로 선언한 경우에도 함수의 명칭을 명확하게 알 수 없다.
- 함수를 기명함수로 바꾸기 어려운 상황에서는 `Component.displayName` 속성을 추가할 수 있다.

코드가 어떤 컴포넌트 트리로 렌더링되어있는지, 어떤 props와 hook으로 구성되어있는지 확인할 수 있다.

## 프로파일러

리액트가 렌더링하는 과정에서 발생하는 상황을 확인하기 위한 도구.
-> 어떤 컴포넌트가 렌더링되었는지? 몇 차례의 렌더링이 일어났는지? 어떤 작업에서 오래 걸렸는지 등,,

- 프로파일링 메뉴
  - 첫 번째 버튼: 프로파일링 시작. 다시 클릭하면 프로파일링이 중단된다.
  - 두 번째 버튼: 새로고침 후 프로파일링 시작. 다시 클릭하면 프로파일링이 중단된다.
  - 세 번째 버튼: 프로파일링 종료. 프로파일링된 기록 삭제 기능
  - 네 번째 버튼: 프로파일 불러오기. 프로파일링으로 만들어진 json을 불러와서 확인할 수 있다.
  - 다섯 번째 버튼: 프로파일 저장하기. 프로파일링 결과를 json 형태의 파일로 저장할 수 있다.

### Framegraph

- 렌더 커밋별로 어떤 작업이 일어났는지 알 수있다. 컴포넌트의 트리구조를 확인할 수 있다.
- 마우스를 가져다대면 해당 컴포넌트 렌더링과 관련된 정보를 확인할 수 있다.
  - duration, why did this render?
- 렌더링되지 않은 컴포넌트에 대해서도 확인할 수 있다.
- 확인할 수 있는 정보
  - 개발자가 의도한 대로 메모이제이션이 작동하고있는지
  - 특정 상태 변화에 따라서 렌더링이 의도한대로 제한적으로 발생하고있는지?

### Ranked

- 렌더링하는 데 오래걸린 순서대로 나열
- 렌더링이 발생한 컴포넌트만 보여준다.

### Timeline

- 시간의 흐름에 따라 리액트가 작동하는 내용을 추적할 수 있다. 무엇이 렌더링되었고, 어느 시점에 렌더링되었는지, 리액트 유휴시간을 어느정도였는지?

# 📚 7장 크롬 개발자 도구를 활용한 애플리케이션 분석

## 요소 탭

- 웹페이지를 구성하는 html, css 등의 정보를 확인할 수 있다.
- 직접 코드를 수정해서 실시간으로 반영된 모습을 확인할 수 있다.
- 마우스 우클릭 > 중단 위치: 해당 요소 변경을 일으킨 소스코드를 볼 수 있다.

## 소스탭

웹 어플리케이션을 불러오기위해 실행하거나 참조된 모든 파일을 확인할 수 있다.

- 소스 중단점을 설정해 디버깅할 수 있다.
- 감시: 실시간으로 모니터링하고싶은 변수를 선언하고 해당 값을 확인할 수 있다.
  - 단, 전역 변수인 경우에만 가능하다
- 범위: 스코프를 확인할 수 있다. 클로저, 전역 스코프 등
- 호출스택: 현재 중단점의 콜스택을 확인할 수 있다.

## 네트워크탭

http요청, 웹소켓 등 모든 네트워크 관련 작동이 기록된다.

- 네트워크탭에서 확인해 봐야 하는 점
  - 불필요한 요청 또는 중복된 요청
  - 리소스 크기
  - 리소스를 불러오는 속도
  - 리소스가 올바른 우선순위로 불러지고있는지

## 메모리탭

메모리 관련 정보. 메모리 누수, 속도 저하, 웹페이지 프리징 현상을 확인할 수 있다.

어렵다..

## Nextjs 환경 디버깅하기

- Nextjs 어플리케이션을 디버그 모드로 실행하기

```
"dev": NODE_OPTION='--inspect' next dev
```

-**ab**: 웹서버 성능 검사 도구. http 서버의 성능을 벤치마킹할 수 있다.
