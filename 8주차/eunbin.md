### 📅 2024년 5월 8일

# 📚 14장 웹사이트 보안을 위한 리액트와 웹페이지 보안 이슈

## 크로스 사이트 스크립팅

웹사이트 개발자가 아닌 제3자가 웹사이트에 악성 스크립트를 삽입해 실행할 수 있는 취약점.

주로 사용자가 직접 입력할 수 있는 게시글 입력창 등에서 `<script>` 태그 내에 위치하는 코드들에 대한 별도 조치를 하지 않는다면, 해당 사이트의 프론트엔드 개발자가 할 수 있는 모든 작업을 할 수 있게 된다.

- dangerouslySetInnerHTML태그 사용에 주의하자.
- useRef를 이용해 DOM에 접근하는 경우 innerHTML으로 보안 취약점이 있는 코드를 삽입했을 때 문제가 발생한다.
- 리액트는 XSS를 방어하기 위한 별도의 이스케이프 매커니즘이 존재한다.
    - 새니타이즈 / 이스케이프: 제 3자가 삽입할 수 있는 html을 안전한 html코드로 한 번 치환하는 것.
- 서버에서 전달하는 데이터는 안전한 데이터만 전달해야한다.
    - 서버 컴포넌트 또는 getServerSideProps함수에서 전달하는 prop는 html에 기록되고 전역 변수로 접근이 가능해진다.
- <a> 태그의 href 속성값을 통해서도 자바스크립트 실행이 가능하다.

### http 보안 헤더 설정하기

- Strict-Transport-Security
    - 모든 사이트가 https를 통해 접근해야함.
    - http로 접근하는 경우 모든 시도를 https로 변경되게 한다.
- X-XSS-Protection
    - 사파리와 구형 브라우저에서만 제공된다.
    - 페이지에서 XSS취약점이 발견되면 페이지 로딩을 중단한다.
- X-Frame-Options
    - frame, iframe, embed, object내부에서 렌더링을 허용할지 여부를 나타냄.
- Permissions-Policy
    - 웹사이트에서 사용할 수 있는 기능과 사용할 수 없는 기능을 명시적으로 선언한다.

- 취약점이 있는 패키지 사용을 피하자.
- [OWASP TOP10](https://owasp.org/www-project-top-ten/)

<img width="600" alt="스크린샷 2024-05-08 오후 8 33 51" src="https://github.com/ianlee92/react-deep-dive-study/assets/43979066/fe44bce4-e64d-474b-8ccb-82f11399c255">


# 📚 15장 마치며

- 오픈소스는 계속 무료로 제공될 수 있는가?
  - 오픈소스 문화가 프론트엔드 개발에 널리 받아들여지고있는 문화이고, 오픈소스 문화를 기반으로 성장한 부분도 있지만, 현실적으로 내가 자주 사용하는 오픈소스가 유료화될 수 있는 일이다. 오픈소스가 무슨일을 하고있는지 관심으로 가지고 알고 있어야한다.
- 어떤 라이브러리나 프레임워크를 사용하던간에 html + css + js 기반이다.
  - 다만 최근 웹 어셈블리 기술을 이용해 높은 성능을 필요로하는 서비스에 C, C++, 러스트 등의 프로그래밍 언어로 개발하는 방법이 떠오르고있다.
- 리액트 내부적으로 어떻게 자바스크립트를 활용하고있는지를 살펴보고 리액트에 너무 의존적이지 않은 유연한 자세를 갖는 것이 좋겠다.

